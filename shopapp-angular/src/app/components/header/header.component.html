<header>
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <img src="assets/images/logo.png" alt="Logo" width="50" height="50">
      </a>

      <!-- ƒê√¢y l√† ph·∫ßn trang ch·ªß n·∫±m b√™n tr√°i -->

      
      <div class="navbar-left">
        <ul class="navbar-nav">
          <li class="nav-item">
        <a class="nav-link" [ngClass]="{ 'active': activeNavItem === 0 }" (click)="setActiveNavItem(0)" routerLink="/">Trang ch·ªß</a>
          </li>
        </ul>
      </div>


      <div class="navbar-center">
        <div class="news-ticker">
          <div class="news-item">üéâ Gi·∫£m gi√° 20% cho m·ªçi s·∫£n ph·∫©m!</div>
          <div class="news-item">üöÄ Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn ƒë∆°n tr√™n 500k!</div>
          <div class="news-item">üéÅ Qu√† t·∫∑ng h·∫•p d·∫´n cho kh√°ch h√†ng m·ªõi!</div>
        </div>
      </div>

      <!-- ƒê√¢y l√† ph·∫ßn b√™n ph·∫£i ch·ª©a c√°c ph·∫ßn t·ª≠ c√≤n l·∫°i -->
      <div class="navbar-right ms-auto">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" [ngClass]="{ 'active': activeNavItem === 1 }" (click)="toggleNotifications()">
              <i class="fa-solid fa-bell icon"></i>Th√¥ng b√°o
            </a>
            <div *ngIf="notificationsVisible" class="notification-popup">
              <div *ngFor="let notification of notifications" class="notification-item">
                <p>{{ notification.message }}</p>
                <small>{{ notification.time }}</small>
              </div>
              <button class="btn btn-secondary" (click)="clearNotifications()">Clear All</button>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" [ngClass]="{ 'active': activeNavItem === 2 }" (click)="setActiveNavItem(2)" routerLink="/orders">
              <i class="fas fa-shopping-cart icon"></i> Gi·ªè h√†ng
            </a>
          </li>
          <li class="nav-item">
            <ng-container *ngIf="userResponse">
              <ng-container ngbPopover="T√†i kho·∫£n c·ªßa t√¥i,ƒê∆°n mua,ƒêƒÉng xu·∫•t" popoverTitle="User Actions" triggers="click" [placement]="'bottom'">
                <a class="nav-link" [ngbPopover]="popoverContent" (click)="togglePopover($event)">
                  <i class="fa-solid fa-user icon"></i>
                  {{ userResponse.fullname }}
              </a>
                <ng-template #popoverContent>
                  <div class="popover-list">
                    <a class="popover-item" (click)="handleItemClick(0)">T√†i kho·∫£n c·ªßa t√¥i</a>
                    <a class="popover-item" (click)="handleItemClick(1)">ƒê∆°n mua</a>
                    <a class="popover-item" (click)="handleItemClick(2)">ƒêƒÉng xu·∫•t</a>
                  </div>
                </ng-template>
              </ng-container>
            </ng-container>
            <ng-container *ngIf="!userResponse">
              <a class="nav-link" routerLink="/login">ƒêƒÉng nh·∫≠p</a>
            </ng-container>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
